(this["webpackJsonpcustom-dashboard"]=this["webpackJsonpcustom-dashboard"]||[]).push([[6],{157:function(e,t,n){"use strict";var a=n(1);t.a=function(e){var t=e.title,n=e.button,c=e.children;return Object(a.jsxs)("div",{className:"w-full bg-white rounded-lg",children:[Object(a.jsxs)("div",{className:"py-3 px-5 flex justify-between items-center",children:[Object(a.jsx)("p",{className:"text-xl font-bold",children:t}),n]}),Object(a.jsx)("div",{className:"px-4",children:c})]})}},174:function(e,t,n){"use strict";n(0);var a=n(179),c=n.n(a),r=n(317),i=n(4),s=n(106),l=n(326),u=n(328),o=n(21),d=Object.freeze({OK:200,CREATED:201,ACCEPTED:202,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500}),j=n(88),b=c.a.create({baseURL:"https://jsonplaceholder.typicode.com/"});b.interceptors.request.use((function(e){var t=Object(o.a)();return Object(s.a)(t)||(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),b.interceptors.response.use((function(e){return e}),(function(e){var t,n=Object(l.a)(e,"response.status",d.INTERNAL_SERVER_ERROR);return n===d.UNAUTHORIZED?(Object(o.e)(),Object(o.d)(),window.location.href="/login"):(Object(u.a)([d.BAD_REQUEST,d.FORBIDDEN],n)?t=Object(l.a)(e,"response.data.message"):n>=d.INTERNAL_SERVER_ERROR&&(t="err_internal"),Object(s.a)(t)||(console.log(t),r.b.error(j.a.t("error.".concat(t)))),Promise.reject(e))}));t.a=Object(i.h)(b)},332:function(e,t,n){"use strict";n.r(t);var a=n(210),c=n(22),r=n(137),i=n(106),s=n(0),l=n(77),u=n(154),o=n(334),d=n(317),j=n(325),b=n(335),f=n(336),O=n(157),h=n(327),m=n(330),x=n(329),p=n(113),v=n(132),R=n(174),E="/users",g=function(e){return R.a.post(E,e)},y=function(e){return R.a.get(E,{params:e})},N=function(e){return R.a.delete("".concat(E,"/").concat(e))},w=function(e,t){return R.a.patch("".concat(E,"/").concat(e),t)},k=n(88),S=n(1),_=h.a.Item,T=h.a.useForm,I=function(e){var t=e.editSelectedRow,n=e.closeDialog,a=Object(l.a)().t,i=T(),u=Object(r.a)(i,1)[0],o=Object(s.useState)(!1),j=Object(r.a)(o,2),b=j[0],f=j[1],O=function(e){u.validateFields().then((function(){t?R(e):E(e)}))},R=function(e){f(!0),w(t.id,e).then((function(){d.b.success(k.a.t("messages.user_updated")),n({payload:{edit:!0,value:e}})})).finally((function(){return f(!1)}))},E=function(e){f(!0),g(e).then((function(){d.b.success(k.a.t("messages.user_created")),n({payload:{value:e}})})).catch((function(e){return console.log(e)})).finally((function(){return f(!1)}))},y={required:a("validation.required")};return Object(S.jsx)(m.a,{footer:null,width:"600px",visible:!0,maskClosable:!1,onCancel:function(){return n()},title:a(t?"editUser":"addUser"),children:Object(S.jsx)("div",{className:"px-6",children:Object(S.jsxs)(h.a,{layout:"vertical",form:u,onFinish:O,initialValues:Object(c.a)({},t),validateMessages:y,children:[Object(S.jsx)(_,{name:"name",label:a("name"),rules:[{required:!0}],children:Object(S.jsx)(x.a,{name:"name",placeholder:a("name")})}),Object(S.jsx)(_,{name:"username",label:a("auth.username"),rules:[{required:!0}],children:Object(S.jsx)(x.a,{name:"username",placeholder:a("auth.username")})}),Object(S.jsx)(_,{name:"email",label:a("email"),rules:[{required:!0,type:"email"}],children:Object(S.jsx)(x.a,{name:"email",type:"email",placeholder:a("email")})}),Object(S.jsxs)(p.b,{className:"flex justify-end items-center",children:[Object(S.jsx)(v.a,{loading:b,onClick:function(){return O(Object(c.a)({},u.getFieldsValue()))},children:a("auth.save")}),Object(S.jsx)(v.a,{onClick:function(){return n()},children:a("cancel")})]})]})})})};t.default=function(){var e=Object(l.a)().t,t=Object(s.useState)([]),n=Object(r.a)(t,2),h=n[0],m=n[1],x=Object(s.useState)(!1),p=Object(r.a)(x,2),v=p[0],R=p[1],E=Object(s.useState)(null),g=Object(r.a)(E,2),w=g[0],_=g[1],T=Object(s.useState)(!1),U=Object(r.a)(T,2),D=U[0],A=U[1],C=[{title:e("id"),key:"id",width:30,index:0,dataIndex:"id",render:function(e){return Object(S.jsx)("span",{children:e})}},{title:e("name"),index:1,width:700,key:"name",dataIndex:"name",render:function(e){return Object(S.jsx)("span",{children:e})}},{title:e("auth.username"),index:2,width:700,key:"username",dataIndex:"username",render:function(e){return Object(S.jsx)("span",{children:e})}},{title:e("email"),index:3,width:700,key:"email",dataIndex:"email",render:function(e){return Object(S.jsx)("span",{children:e})}},{title:e("actions"),key:"actions",width:700,render:function(t,n){return Object(S.jsxs)("div",{className:"flex items-baseline",children:[Object(S.jsx)(u.a,{title:e("editUser"),children:Object(S.jsx)("p",{className:"mx-2 cursor-pointer",onClick:function(){return _(n)},children:Object(S.jsx)(b.a,{})})}),Object(S.jsx)(u.a,{title:e("removeUser"),children:Object(S.jsx)(o.a,{placement:"topRight",okText:e("yes"),cancelText:e("no"),onConfirm:function(){return F(n.id)},title:e("messages.delete_user_confirm"),children:Object(S.jsx)(f.a,{})})})]})}}],F=function(e){R(!0),N(e).then((function(){m(h.filter((function(t){return t.id!==e}))),d.b.info(k.a.t("messages.user_deleted"))})).finally((function(){return R(!1)}))};return Object(s.useEffect)((function(){var e=!0;return e&&(R(!0),y().then((function(t){var n=t.data.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{key:e.id})}));e&&m(n)})).catch((function(e){return console.log(e)})).finally((function(){return R(!1)}))),function(){e=!1}}),[]),Object(s.useEffect)((function(){w&&A(!0)}),[w]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.a,{title:e("users"),button:Object(S.jsx)("button",{className:"bg-green-600 text-white text-sm py-3 px-10 font-bold focus:outline-none rounded",onClick:function(){return A(!0)},children:e("addUser")}),children:Object(S.jsx)(j.a,{size:"small",scroll:{x:700},dataSource:h,loading:v,columns:C,pagination:!1,showSorterTooltip:!1})}),D&&Object(S.jsx)(I,{editSelectedRow:w,closeDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;if(A(!1),!Object(i.a)(t)&&t.value)if(t.edit){var n=h.findIndex((function(e){return e.id===w.id}));h[n]=t.value,t.value.key=w.id,t.value.id=w.id,m(Object(a.a)(h))}else t.value.key=h.length+1,t.value.id=h.length+1,m([].concat(Object(a.a)(h),[t.value]));_(null)}})]})}}}]);
//# sourceMappingURL=6.2e887140.chunk.js.map