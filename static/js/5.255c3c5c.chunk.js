(this["webpackJsonpcustom-dashboard"]=this["webpackJsonpcustom-dashboard"]||[]).push([[5],{157:function(e,t,n){"use strict";var c=n(1);t.a=function(e){var t=e.title,n=e.button,a=e.children;return Object(c.jsxs)("div",{className:"w-full bg-white rounded-lg",children:[Object(c.jsxs)("div",{className:"py-3 px-5 flex justify-between items-center",children:[Object(c.jsx)("p",{className:"text-xl font-bold",children:t}),n]}),Object(c.jsx)("div",{className:"px-4",children:a})]})}},174:function(e,t,n){"use strict";n(0);var c=n(179),a=n.n(c),i=n(317),r=n(4),s=n(106),o=n(326),l=n(328),u=n(21),d=Object.freeze({OK:200,CREATED:201,ACCEPTED:202,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500}),j=n(88),b=a.a.create({baseURL:"https://jsonplaceholder.typicode.com/"});b.interceptors.request.use((function(e){var t=Object(u.a)();return Object(s.a)(t)||(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),b.interceptors.response.use((function(e){return e}),(function(e){var t,n=Object(o.a)(e,"response.status",d.INTERNAL_SERVER_ERROR);return n===d.UNAUTHORIZED?(Object(u.e)(),Object(u.d)(),window.location.href="/login"):(Object(l.a)([d.BAD_REQUEST,d.FORBIDDEN],n)?t=Object(o.a)(e,"response.data.message"):n>=d.INTERNAL_SERVER_ERROR&&(t="err_internal"),Object(s.a)(t)||(console.log(t),i.b.error(j.a.t("error.".concat(t)))),Promise.reject(e))}));t.a=Object(r.h)(b)},333:function(e,t,n){"use strict";n.r(t);var c=n(210),a=n(22),i=n(137),r=n(335),s=n(336),o=n(154),l=n(334),u=n(317),d=n(325),j=n(77),b=n(0),f=n(106),O=n(157),h=n(174),x="/posts",p=function(e){return h.a.post(x,e)},m=function(e){return h.a.get(x,{params:e})},v=function(e){return h.a.delete("".concat(x,"/").concat(e))},y=function(e,t){return h.a.patch("".concat(x,"/").concat(e),t)},E=n(327),R=n(329),g=n(330),N=n(113),w=n(132),S=n(88),T=n(1),_=E.a.Item,k=E.a.useForm,D=R.a.TextArea,I=function(e){var t=e.editSelectedRow,n=e.closeDialog,c=Object(j.a)().t,r=k(),s=Object(i.a)(r,1)[0],o=Object(b.useState)(!1),l=Object(i.a)(o,2),d=l[0],f=l[1],O=Object(b.useState)(""),h=Object(i.a)(O,2),x=h[0],m=h[1],v=function(e){s.validateFields().then((function(){t?I(e):A(e)}))},I=function(e){f(!0),y(t.id,e).then((function(){u.b.success(S.a.t("messages.post_updated")),n({payload:{edit:!0,value:Object(a.a)(Object(a.a)({},e),{},{body:x})}})})).finally((function(){return f(!1)}))},A=function(e){f(!0),p(e).then((function(){u.b.success(S.a.t("messages.post_created")),n({payload:{value:Object(a.a)(Object(a.a)({},e),{},{body:x})}})})).catch((function(e){return console.log(e)})).finally((function(){return f(!1)}))},C={required:c("validation.required")};return Object(b.useEffect)((function(){t&&m(t.body)}),[t]),Object(T.jsx)(g.a,{footer:null,width:"600px",visible:!0,maskClosable:!1,onCancel:function(){return n()},title:c(t?"editPost":"addPost"),children:Object(T.jsx)("div",{className:"px-6",children:Object(T.jsxs)(E.a,{layout:"vertical",form:s,onFinish:v,initialValues:Object(a.a)({},t),validateMessages:C,children:[Object(T.jsx)(_,{name:"title",label:c("title"),rules:[{required:!0}],children:Object(T.jsx)(R.a,{name:"title",placeholder:c("title")})}),Object(T.jsx)(_,{name:"body",label:c("body"),rules:[{required:!0}],children:Object(T.jsx)(D,{name:"body",rows:4,placeholder:c("body"),value:x,onChange:function(e){return m(e.target.value)}})}),Object(T.jsxs)(N.b,{className:"flex justify-end items-center",children:[Object(T.jsx)(w.a,{loading:d,onClick:function(){return v(Object(a.a)({},s.getFieldsValue()))},children:c("auth.save")}),Object(T.jsx)(w.a,{onClick:function(){return n()},children:c("cancel")})]})]})})})};t.default=function(){var e=Object(j.a)().t,t=Object(b.useState)([]),n=Object(i.a)(t,2),h=n[0],x=n[1],p=Object(b.useState)(!1),y=Object(i.a)(p,2),E=y[0],R=y[1],g=Object(b.useState)(null),N=Object(i.a)(g,2),w=N[0],_=N[1],k=Object(b.useState)(!1),D=Object(i.a)(k,2),A=D[0],C=D[1],P=[{title:e("id"),key:"id",index:0,width:20,dataIndex:"id",render:function(e){return Object(T.jsx)("span",{children:e})}},{title:e("title"),index:1,width:700,key:"title",dataIndex:"title",render:function(e){return Object(T.jsx)("span",{children:e})}},{title:e("body"),index:2,width:700,key:"body",dataIndex:"body",render:function(e){return Object(T.jsx)("span",{children:e})}},{title:e("actions"),key:"actions",width:700,render:function(t,n){return Object(T.jsxs)("div",{className:"flex items-baseline",children:[Object(T.jsx)(o.a,{title:e("editPost"),children:Object(T.jsx)("p",{className:"mx-2 cursor-pointer",onClick:function(){return _(n)},children:Object(T.jsx)(r.a,{})})}),Object(T.jsx)(o.a,{title:e("removePost"),children:Object(T.jsx)(l.a,{placement:"topRight",okText:e("yes"),cancelText:e("no"),onConfirm:function(){return U(n.id)},title:e("messages.delete_post_confirm"),children:Object(T.jsx)(s.a,{})})})]})}}],U=function(e){R(!0),v(e).then((function(){x(h.filter((function(t){return t.id!==e}))),u.b.info(S.a.t("messages.post_deleted"))})).finally((function(){return R(!1)}))};return Object(b.useEffect)((function(){var e=!0;return e&&(R(!0),m().then((function(t){var n=t.data.slice(0,10).map((function(e){return Object(a.a)(Object(a.a)({},e),{},{key:e.id})}));e&&x(n)})).catch((function(e){return console.log(e)})).finally((function(){return R(!1)}))),function(){e=!1}}),[]),Object(b.useEffect)((function(){w&&C(!0)}),[w]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(O.a,{title:e("posts"),button:Object(T.jsx)("button",{className:"bg-green-600 text-white text-sm py-3 px-10 font-bold focus:outline-none rounded",onClick:function(){return C(!0)},children:e("addPost")}),children:Object(T.jsx)(d.a,{size:"small",scroll:{x:700},dataSource:h,loading:E,columns:P,showSorterTooltip:!1,pagination:!1})}),A&&Object(T.jsx)(I,{editSelectedRow:w,closeDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;if(C(!1),!Object(f.a)(t)&&t.value)if(t.edit){var n=h.findIndex((function(e){return e.id===w.id}));h[n]=t.value,t.value.key=w.id,t.value.id=w.id,x(Object(c.a)(h))}else t.value.key=h.length+1,t.value.id=h.length+1,x([].concat(Object(c.a)(h),[t.value]));_(null)}})]})}}}]);
//# sourceMappingURL=5.255c3c5c.chunk.js.map